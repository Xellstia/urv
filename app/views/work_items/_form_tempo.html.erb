<%# Используем общий партиал для формы Tempo %>
<% frame_id_param = local_assigns[:frame_id] || params[:frame_id] %>

<%= render "shared/work_form",
      model: @work_item,
      system: :tempo,
      mode: (@work_item&.persisted? ? :edit : :new),
      frame_id: frame_id_param,
      submit_text: (@work_item&.persisted? ? "Сохранить" : "Создать"),
      use_time_input: true,
      extra_hidden_fields: {
        week_start: params[:week_start],
        weekend: params[:weekend],
        date: (@work_item.date || params[:date])
      } %>

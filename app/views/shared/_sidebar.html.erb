<!-- ФИКСИРОВАННЫЙ левый сайдбар: под топбаром, на всю высоту окна -->
<aside
  data-sidebar-target="aside"
  class="sidebar fixed left-0 top-16 z-40 h-[calc(100vh-4rem)]
         bg-slate-900 border-r border-slate-800
         flex flex-col min-h-0 font-ui select-none">

  <!-- Шапка сайдбара с кнопкой -->
  <div class="p-2">
    <button
      type="button"
      class="sidebar-item w-full flex items-center gap-3 rounded-lg px-3 py-2 text-slate-100 hover:bg-white/10"
      data-action="click->sidebar#toggle"
      title="Свернуть/развернуть меню">
      <%= icon(:menu, classes: "w-8 h-8 shrink-0") %>
      <span class="sidebar-label">Меню</span>
    </button>
  </div>

  <!-- Навигация -->
  <div class="flex-1 overflow-y-auto p-2 space-y-1">
    <%= nav_link_to "Расписание", root_path,
      icon: :calendar,
      active_when: -> { controller_name == "timesheets" } %>

    <%= nav_link_to "Еженед. шаблоны", presets_path,
      icon: :list,
      active_when: -> { controller_name == "presets" } %>

    <%= nav_link_to "Категории шаблонов", template_categories_path,
      icon: :grid,
      active_when: -> { %w[template_categories template_cards].include?(controller_name) } %>
  </div>

  <!-- Нижняя панель -->
  <div class="p-2 border-t border-slate-800">
    <%= nav_link_to "Настройки", "#",
      icon: :gear,
      active_when: -> { false } %>
  </div>
</aside>
